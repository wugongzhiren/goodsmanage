<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/ui.jqgrid.css"/>
    <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css"/>
    <script src="/js/jquery-3.1.1.min.js"></script>
    <!-- 包括所有已编译的插件 -->
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/grid.locale-cn.js"></script>
    <script src="/js/grid.jqueryui.js"></script>
    <script src="/js/jquery.jqGrid.min.js"></script>

</head>
<body>
批量更改商品信息
<center>
    <table id="goodsList"></table>
    <div id="pager"></div>
</center>

    <script>
        jQuery("#goodsList").jqGrid({
            url: "/getGoodsInfo",
            datatype: "local",
            mtype: 'GET',
            colNames: [ '条形码', '商品名', '商品类别', '型号','单价', '数量','新增入库数量'],
            colModel: [
                {name: 'zxingCode', index: 'zxingCode', width: 100, align: "center"},
                {name: 'goodsName', index: 'goodsName', width: 100, align: "center"},
                {name: 'goodsType', index: 'goodsType', width: 150, align: "center"},
                {name: 'goodsVersion', index: 'goodsVersion', width: 150, align: "center"},
                {name: 'price', index: 'price', width: 150, align: "center"},
                {name: 'goodsCount', index: 'goodsCount', width: 150, align: "center"},
                {name: 'addCount', index: 'addCount', width: 150, align: "center",editable:true,editrules:{edithidden:true,required:false,number:true,minValue:1}}
            ],
            rownumbers:true,
            multiselect: true,
            multiboxonly:true,
            cellEdit:true,
            loadComplete: function () {
                var rowIds = $("#goodsList").jqGrid('getDataIDs');
                var curRowData = $("#goodsList").jqGrid('getRowData', rowIds[0]);
                if(curRowData.zxingCode=="") {
                    alert("未查询到数据");
                }
            },
            beforeSelectRow:function beforeSelectRow()
            {
                $("#goodsList").jqGrid('resetSelection');
                return(true);
            },
            rowList: [10, 20, 30],
            viewrecords: true,
            loadonce:false,
            sortable: false,
            pager: jQuery('#pager'),
            rowNum: 5,
            altclass: 'altRowsColor',
//width: 'auto',
            width: '1200',
            height: '340',
            caption: "商品信息一览"
        })
    </script>
</body>

</html>